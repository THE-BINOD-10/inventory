<div class="mb10">
  <div class="detail-list" ng-init="order.labels = {'category': 'Category',  'description': 'Description', 'sku_code': 'SKU Code', 'style_name': 'Style Name'}">
    <div class="detail-item border-grey detail-bg-grey mb5">
      <h4><b>Order Details: #{{order.order_details.order.enquiry_id}}</b></h4>
      <div class="row no-margin">
        <div class="col-md-4 col-sm-4 col-xs-4">
          <span>Customer Name</span>
        </div>
        <div class="col-md-4 col-sm-4 col-xs-4">
          <span>: {{order.order_details.order.customer_name}}</span>
        </div>
      </div>
      <div class="row no-margin" ng-repeat="name in ['style_name', 'sku_code', 'description', 'category']">
        <div class="col-md-4 col-sm-4 col-xs-4">
          <span>{{order.labels[name]}}</span>
        </div>
        <div class="col-md-4 col-sm-4 col-xs-4">
          <span>: {{order.order_details.style[name]}}</span>
        </div>
      </div>
      <div class="row no-margin">
        <div class="col-md-4 col-sm-4 col-xs-4">
          <span><b>Customization Type</b></span>
        </div>
        <div class="col-md-4 col-sm-4 col-xs-4">
          <span><b>: {{order.order_details.order.customization_type}}</b></span>
        </div>
      </div>
    </div>
    <div class="row no-margin" ng-if="order.order_details.style.images.length > 0">
      <div class="col-md-4 col-sm-4 col-xs-4">
        <h5><b>Uploaded mages</b></h5>
      </div>
    </div>
    <div class="row no-margin">
      <div class="col-md-2 mb10" ng-repeat="image in order.order_details.style.images"><img  style="width: 100%;" ng-src="{{order.service.check_image_url('/'+image)}}"></div>
    </div>
    <accordion close-others="oneAtATime" ng-repeat="hist in order.order_details.data">
    <accordion-group>
      <accordion-heading>
        <span><b>{{hist.username}}</b></span>
        <i class="pull-right glyphicon" ng-class="{'glyphicon-chevron-down': status.open, 'glyphicon-chevron-right': !status.open}"></i>
        <span class="pull-right mr20">Date: {{hist.date}}</span>
      </accordion-heading>
      <div class="over-x">
        <table class="table mb0 mw40">
          <thead>
            <tr>
              <th class="col-md-4" ng-hide="order.order_details.order.customization_type=='Product Customization'">Price</th>
              <th class="col-md-4">Expected Date</th>
              <th class="col-md-4">Remarks</th>
            </tr>
          </thead>
          <tbody>
            <tr style="cursor:pointer">
              <td ng-hide="order.order_details.order.customization_type=='Product Customization'">{{hist.ask_price}}</td>
              <td>{{hist.expected_date}}</td>
              <td>{{hist.remarks}}</td>
            </tr>
          </tbody>
        </table>
      </div>
    </accordion-group>
    </accordion>

    <div class="row no-margin">
      <form name="form" role="form">
        <div class="col-md-4 col-sm-4 col-xs-12" ng-if="order.order_details.order.customization_type!='Product Customization'">
          <div class="form-group">
            <input type="text" name="ask_price" ng-model="order.model_data.ask_price" class="form-control ng-pristine" placeholder="Modify Price *" decimal-number required>
          </div>
        </div>
        <div class="col-md-4 col-sm-4 col-xs-12">
          <div class="form-group">
            <input name="extended_date" ui-jq="datepicker" ng-model="order.model_data.expected_date" placeholder="Select Expected Date *" class="form-control stk-readonly" type="text" id="extended_date" data-date-today-highlight="true" data-date-autoclose="true" data-date-start-date="{{order.date}}" readonly="true" required>
          </div>
        </div>
        <div class="col-md-4 col-sm-4 col-xs-12">
          <div class="form-group">
            <textarea rows="4" class="form-control ng-pristine" cols="27" name="remarks" placeholder="Remarks *" ng-model="order.model_data.remarks" required></textarea>
          </div>
        </div>
        <div class="col-md-4 col-md-offset-4 text-center mb10" ng-show="order.save">
          <button type='submit' class="btn btn-primary" ng-click="order.send_for_approval(form)" ng-disabled="order.disable_btn">Send For Approval</button>
        </div>
        <div class="col-md-4 col-md-offset-4 text-center mb10" ng-hide="order.save">
          <button type='submit' class="btn btn-success" ng-click="order.edit(form)">Edit</button>
          <button type='submit' class="btn btn-primary" ng-click="">Accept</button>
          <button type='submit' class="btn btn-danger" ng-click="">Reject</button>
        </div>
      </form>
    </div>
  </div>
</div>
