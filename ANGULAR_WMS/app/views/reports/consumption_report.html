<div class="page-layout">
  <div class='layout-header'>
    <div class="pull-left" ng-include="'views/common/title.html'"></div>
  </div>
  <div class="layout-body">
    <tabset class="box-tab">
      <tab heading="Consumption Report" ng-controller="ConsumptionReportCtrl as showCase">
	    	<div class="layout-sub-header">
	        <form name="form" role="form" class="filters">
	          <div class="clearfix">
	            <div class="row col-md-12">
	              <div class="col-md-3 col-sm-3 col-xs-4" ng-repeat="field in showCase.report_data.filters">
	                <div ng-include="service.get_view_url(field.type, 'inputs')"></div>
	              </div>
	            </div>
	            <div class="col-md-12" align="center">
					  			<button type="button" class="btn btn-default" id="add-shippment-btn" style="margin-right: 10px" ng-click="showCase.service.reset_data(showCase.empty_data, showCase.model_data);showCase.service.generate_report(showCase.dtInstance, showCase.model_data);showCase.reset()"> Reset </button>
					  			<button type="button" class="btn btn-success" id="add-shippment-btn" data-toggle="modal" data-target="#myModal" ng-click="showCase.service.generate_report(showCase.dtInstance, showCase.model_data)" style="margin-right: 10px"> Generate </button>
					  			<button id="add-shippment-btn" ng-if="showCase.report_data.excel_name" type="button" class="btn btn-primary" ng-click="showCase.service.print_excel(showCase.model_data, showCase.dtInstance, showCase.dtColumns, showCase.report_data.excel_name, true)" ng-disabled="showCase.service.print_enable">Download Excel</button>
					  			<button type="button" class="btn btn-primary pull-right" ng-click="showCase.service.download_full_report(showCase.report_data.excel_name)">Download Full Report</button>
	            </div>
	          </div>
	        </form>
	    	</div>
				<div class="layout-body">
		  		<div class="col-md-12 col-sm-12 col-xs-12">
	      		<div class="panel" ng-if="showCase.datatable">
							<div ng-if="!(showCase.report_data.row_click)" ng-include="'views/common/no-onclick-table.html'"></div>
	        		<div ng-if="showCase.report_data.row_click">
			          <div class="panel-body">
			            <table datatable="" dt-options="showCase.dtOptions" dt-columns="showCase.dtColumns" class="table custom-table table-condensed datatable" dt-instance="showCase.dtInstance"></table>
			            <div ui-view></div>
			          </div>
			        </div>
	      		</div>
	      		<div ui-view></div>
	    		</div>
				</div>
      </tab>

      <tab ng-show="showCase.permissions.change_consumptiondata" heading="Consumption Reversal" ng-controller="ConsumptionReversalCtrl as showCase">
        <div class="layout-sub-header">
	        <form name="form" role="form" class="filters">
	          <div class="clearfix">
	            <div class="row col-md-12">
	            	<div class="col-md-3 col-sm-3 col-xs-4">
	                <div class="form-group">
	                  <label class="control-label"> Consumption Month</label>
	                  <input type="text" name="month_name" ng-model="showCase.month_name" class="form-control" ng-readonly="true" style="background-color:white">
	                </div>
	              </div>
	              <div class="col-md-3 col-sm-3 col-xs-4">
	                <div class="form-group">
	                  <label class="control-label"> Consumption Year</label>
	                  <input type="text" name="year" ng-model="showCase.year" class="form-control" ng-readonly="true" style="background-color:white">
	                </div>
	              </div>
	              <div class="col-md-3 col-sm-3 col-xs-4" ng-repeat="field in showCase.report_data.filters">
	                <div ng-include="service.get_view_url(field.type, 'inputs')"></div>
	              </div>
	            </div>
	            <div class="col-md-12" align="center">
					  			<button type="button" class="btn btn-default" id="add-shippment-btn" style="margin-right: 10px" ng-click="showCase.service.reset_data(showCase.empty_data, showCase.model_data);showCase.service.generate_report(showCase.dtInstance, showCase.model_data);showCase.reset()"> Reset </button>
					  			<button type="button" class="btn btn-success" id="add-shippment-btn" data-toggle="modal" data-target="#myModal" ng-click="showCase.service.generate_report(showCase.dtInstance, showCase.model_data)" style="margin-right: 10px"> Generate </button>
					  			<button id="add-shippment-btn" style="margin-right: 10px" type="button" class="btn btn-primary" ng-click="showCase.service.print_excel(showCase.model_data, showCase.dtInstance, showCase.dtColumns, showCase.report_data.excel_name, true)" ng-disabled="showCase.service.print_enable">Download Excel</button>
					  			<button type="button" class="btn btn-danger" id="add-shippment-btn" ng-click="showCase.confirm_reversal()" ng-disabled="showCase.reversal_bt_disable"> {{showCase.label}} </button>
	            </div>
	          </div>
	        </form>
	    	</div>
				<div class="layout-body">
		  		<div class="col-md-12 col-sm-12 col-xs-12">
	      		<div class="panel" ng-if="showCase.datatable">
							<div ng-if="!(showCase.report_data.row_click)" ng-include="'views/common/no-onclick-table.html'"></div>
	        		<div ng-if="showCase.report_data.row_click">
			          <div class="panel-body">
			            <table datatable="" dt-options="showCase.dtOptions" dt-columns="showCase.dtColumns" class="table custom-table table-condensed datatable" dt-instance="showCase.dtInstance"></table>
			            <div ui-view></div>
			          </div>
			        </div>
	      		</div>
	      		<div ui-view></div>
	    		</div>
				</div>
      </tab>
    </tabset>
  </div>
</div>